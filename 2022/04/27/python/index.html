<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Scay Pig"><meta name="copyright" content="Scay Pig"><meta name="generator" content="Hexo 6.3.0"><meta name="theme" content="hexo-theme-yun"><title>Python | 咕噜咕噜~~</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/myblog/yun.svg"><link rel="mask-icon" href="/myblog/yun.svg" color="#0078E7"><link rel="preload" href="/myblog/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/myblog/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"scarypig.github.io","root":"/myblog/","title":"春风十里不如你","version":"1.10.9","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/myblog/css/hexo-theme-yun.css"><script src="/myblog/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="例 温度转换字符串”123456”由第一个字符开始记序号: ​     0,1,2,3,4,5 ​     -6,-5,-4,-3,-2,-1 12345678910TempStr &#x3D; input(&quot;请输入带有符号的温度值:&quot;)if TempStr[-1] in [&amp;#x27;F&amp;#x27;,&amp;#x27;f&amp;#x27;]:             # -1代表字符串最后一位">
<meta property="og:type" content="article">
<meta property="og:title" content="Python">
<meta property="og:url" content="https://scarypig.github.io/myblog/2022/04/27/python/index.html">
<meta property="og:site_name" content="咕噜咕噜~~">
<meta property="og:description" content="例 温度转换字符串”123456”由第一个字符开始记序号: ​     0,1,2,3,4,5 ​     -6,-5,-4,-3,-2,-1 12345678910TempStr &#x3D; input(&quot;请输入带有符号的温度值:&quot;)if TempStr[-1] in [&amp;#x27;F&amp;#x27;,&amp;#x27;f&amp;#x27;]:             # -1代表字符串最后一位">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/2544165563/2544165563.github.io/assets/image-20200803165429996.png">
<meta property="article:published_time" content="2022-04-27T07:09:32.311Z">
<meta property="article:modified_time" content="2023-05-08T09:25:14.184Z">
<meta property="article:author" content="Scay Pig">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/2544165563/2544165563.github.io/assets/image-20200803165429996.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/myblog/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/myblog/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/myblog/about/" title="Scay Pig"><img width="96" loading="lazy" src="/myblog/yun.png" alt="Scay Pig"></a><div class="site-author-name"><a href="/myblog/about/">Scay Pig</a></div><span class="site-name">咕噜咕噜~~</span><sub class="site-subtitle"></sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/myblog/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/myblog/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">45</span></a></div><div class="site-state-item"><a href="/myblog/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">1</span></a></div><div class="site-state-item"><a href="/myblog/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">19</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/ScaryPig" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/myblog/links/" title="我的小伙伴们" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BE%8B-%E6%B8%A9%E5%BA%A6%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.</span> <span class="toc-text">例 温度转换</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97"><span class="toc-number">2.</span> <span class="toc-text">数学计算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-number">2.1.</span> <span class="toc-text">浮点数的运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%B8%80%E4%BA%9B%E8%BF%90%E7%AE%97%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">其他一些运算函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E5%A4%A9%E5%A4%A9%E5%90%91%E4%B8%8A"><span class="toc-number">2.3.</span> <span class="toc-text">例 天天向上</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">3.1.</span> <span class="toc-text">字符串的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">字符串的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">3.3.</span> <span class="toc-text">字符串操作符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.</span> <span class="toc-text">字符串处理函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="toc-number">3.5.</span> <span class="toc-text">字符串处理方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">3.6.</span> <span class="toc-text">字符串类型的格式化</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">装饰器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%8F%E7%A8%8B"><span class="toc-number">5.</span> <span class="toc-text">协程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#greenlet%E6%A8%A1%E5%9D%97"><span class="toc-number">5.1.</span> <span class="toc-text">greenlet模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yield%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">5.2.</span> <span class="toc-text">yield关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#asyncio%E8%A3%85%E9%A5%B0%E5%99%A8-3-4"><span class="toc-number">5.3.</span> <span class="toc-text">asyncio装饰器(3.4)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#asyn%E3%80%81await%E5%85%B3%E9%94%AE%E5%AD%97-3-5"><span class="toc-number">5.4.</span> <span class="toc-text">asyn、await关键字(3.5)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Task%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.5.</span> <span class="toc-text">Task对象</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="toc-number">6.</span> <span class="toc-text">分支结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#if%E3%80%81else%E3%80%81elif"><span class="toc-number">6.1.</span> <span class="toc-text">if、else、elif</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%BC%82%E5%B8%B8%E7%90%86"><span class="toc-number">6.2.</span> <span class="toc-text">程序异常理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number">6.3.</span> <span class="toc-text">for循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-number">6.4.</span> <span class="toc-text">while循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%90%AD%E9%85%8Delse"><span class="toc-number">6.5.</span> <span class="toc-text">循环搭配else</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E5%9C%86%E5%91%A8%E7%8E%87%E8%AE%A1%E7%AE%97"><span class="toc-number">6.6.</span> <span class="toc-text">例 圆周率计算</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">7.</span> <span class="toc-text">函数的定义</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lambda%E7%B4%A7%E5%87%91%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">lambda紧凑函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#filter%E8%BF%87%E6%BB%A4"><span class="toc-number">8.1.</span> <span class="toc-text">filter过滤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map%E6%94%B9%E5%8A%A8%E5%85%83%E7%B4%A0"><span class="toc-number">8.2.</span> <span class="toc-text">map改动元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reduce%E7%9B%B8%E5%8A%A0"><span class="toc-number">8.3.</span> <span class="toc-text">reduce相加</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PyInstaller%E6%89%93%E5%8C%85%E7%A8%8B%E5%BA%8F"><span class="toc-number">9.</span> <span class="toc-text">PyInstaller打包程序</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">10.</span> <span class="toc-text">组合数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">10.1.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">10.1.1.</span> <span class="toc-text">集合操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="toc-number">10.1.2.</span> <span class="toc-text">集合处理方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B-%E6%95%B0%E6%8D%AE%E5%8E%BB%E9%87%8D"><span class="toc-number">10.1.3.</span> <span class="toc-text">例 数据去重</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97"><span class="toc-number">10.2.</span> <span class="toc-text">序列</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">10.2.1.</span> <span class="toc-text">序列操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="toc-number">10.2.2.</span> <span class="toc-text">序列处理方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">10.3.</span> <span class="toc-text">元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8"><span class="toc-number">10.4.</span> <span class="toc-text">列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">10.4.1.</span> <span class="toc-text">列表操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="toc-number">10.4.2.</span> <span class="toc-text">列表处理方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%EF%BC%88%E6%98%A0%E5%B0%84%EF%BC%89"><span class="toc-number">10.5.</span> <span class="toc-text">字典（映射）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="toc-number">10.5.1.</span> <span class="toc-text">字典处理方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B-%E7%BB%9F%E8%AE%A1%E6%96%87%E6%9C%AC%E5%8D%95%E8%AF%8D%E6%95%B0%E9%87%8F"><span class="toc-number">10.5.2.</span> <span class="toc-text">例 统计文本单词数量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">11.</span> <span class="toc-text">面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95"><span class="toc-number">11.1.</span> <span class="toc-text">魔法方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E6%88%BF%E5%B1%8B%E5%AE%B6%E5%85%B7%E6%B7%BB%E5%8A%A0"><span class="toc-number">11.2.</span> <span class="toc-text">例 房屋家具添加</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%B1%9E%E6%80%A7%E3%80%81%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">11.3.</span> <span class="toc-text">类属性、对象属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7%E3%80%81%E7%A7%81%E6%9C%89%E6%96%B9%E6%B3%95"><span class="toc-number">11.4.</span> <span class="toc-text">私有属性、私有方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E3%80%81%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">11.5.</span> <span class="toc-text">类方法、静态方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">11.6.</span> <span class="toc-text">单例设计模式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">12.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">13.</span> <span class="toc-text">文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%93%E5%BC%80%E4%B8%8E%E5%85%B3%E9%97%AD"><span class="toc-number">13.1.</span> <span class="toc-text">文件的打开与关闭</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E7%9A%84%E8%AF%BB%E5%8F%96"><span class="toc-number">13.2.</span> <span class="toc-text">文件内容的读取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E7%9A%84%E5%86%99%E5%85%A5"><span class="toc-number">13.3.</span> <span class="toc-text">文件内容的写入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSV%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%99%E8%AF%BB"><span class="toc-number">13.4.</span> <span class="toc-text">CSV文件的写读</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E8%87%AA%E5%8A%A8%E7%BB%98%E5%88%B6"><span class="toc-number">13.5.</span> <span class="toc-text">例 自动绘制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#with%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-number">14.</span> <span class="toc-text">with上下文管理器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">15.</span> <span class="toc-text">迭代器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#re%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">16.</span> <span class="toc-text">re正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">16.1.</span> <span class="toc-text">操作符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">16.2.</span> <span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#flags%E5%B8%B8%E7%94%A8%E6%A0%87%E8%AE%B0"><span class="toc-number">16.2.1.</span> <span class="toc-text">flags常用标记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#match%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">16.3.</span> <span class="toc-text">match对象属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B4%AA%E5%A9%AA%E5%8C%B9%E9%85%8D%E4%B8%8E%E6%9C%80%E5%B0%8F%E5%8C%B9%E9%85%8D"><span class="toc-number">16.4.</span> <span class="toc-text">贪婪匹配与最小匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">16.5.</span> <span class="toc-text">面向对象的用法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="toc-number">17.</span> <span class="toc-text">模块的导入</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#time%E6%97%B6%E9%97%B4"><span class="toc-number">18.</span> <span class="toc-text">time时间</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E6%96%87%E6%9C%AC%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-number">18.1.</span> <span class="toc-text">例 文本进度条</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E4%B8%83%E6%AE%B5%E6%95%B0%E7%A0%81%E7%AE%A1%E7%BB%98%E5%88%B6"><span class="toc-number">18.2.</span> <span class="toc-text">例 七段数码管绘制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#random%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">19.</span> <span class="toc-text">random随机数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E8%AE%A1%E7%AE%97%E5%9C%86%E5%91%A8%E7%8E%87"><span class="toc-number">19.1.</span> <span class="toc-text">例 计算圆周率</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#turtle%E7%94%BB%E5%9B%BE"><span class="toc-number">20.</span> <span class="toc-text">turtle画图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E7%A7%91%E8%B5%AB%E9%9B%AA%E8%8A%B1%EF%BC%88%E4%BD%BF%E7%94%A8%E9%80%92%E5%BD%92%EF%BC%89"><span class="toc-number">20.1.</span> <span class="toc-text">例 科赫雪花（使用递归）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sys"><span class="toc-number">21.</span> <span class="toc-text">sys</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#jieba%E4%B8%AD%E6%96%87%E5%88%86%E8%AF%8D"><span class="toc-number">22.</span> <span class="toc-text">jieba中文分词()</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wordcloud%E8%AF%8D%E4%BA%91"><span class="toc-number">23.</span> <span class="toc-text">wordcloud词云</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E8%AF%8D%E4%BA%91"><span class="toc-number">23.1.</span> <span class="toc-text">例 文本文件生成词云</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B-%E5%88%B6%E4%BD%9C%E8%AF%8D%E4%BA%91"><span class="toc-number">23.2.</span> <span class="toc-text">例 制作词云</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#json%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">24.</span> <span class="toc-text">json字符串</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#os%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">25.</span> <span class="toc-text">os操作系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hashlib%E5%8A%A0%E5%AF%86"><span class="toc-number">26.</span> <span class="toc-text">hashlib加密</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">27.</span> <span class="toc-text">第三方库的安装</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://scarypig.github.io/myblog/myblog/2022/04/27/python/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Scay Pig"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="咕噜咕噜~~"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2022-04-27 15:09:32" itemprop="dateCreated datePublished" datetime="2022-04-27T15:09:32+08:00">2022-04-27</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="修改时间：2023-05-08 17:25:14" itemprop="dateModified" datetime="2023-05-08T17:25:14+08:00">2023-05-08</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/myblog/categories/%E5%AD%A6%E4%B9%A0/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">学习</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/myblog/tags/python/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">python</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="例-温度转换"><a href="#例-温度转换" class="headerlink" title="例 温度转换"></a>例 温度转换</h1><p>字符串”123456”由第一个字符开始记序号:</p>
<p>​     0,1,2,3,4,5</p>
<p>​     -6,-5,-4,-3,-2,-1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">TempStr = <span class="built_in">input</span>(<span class="string">&quot;请输入带有符号的温度值:&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> TempStr[-<span class="number">1</span>] <span class="keyword">in</span> [<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;f&#x27;</span>]:             <span class="comment"># -1代表字符串最后一位</span></span><br><span class="line">    C =(<span class="built_in">eval</span>(TempStr[<span class="number">0</span>:-<span class="number">1</span>]) - <span class="number">32</span>)/<span class="number">1.8</span>    <span class="comment">#eval去除字符串最外层</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;转换后的温度是&#123;:.2f&#125;C&quot;</span>.<span class="built_in">format</span>(C))</span><br><span class="line"><span class="keyword">elif</span> TempStr[-<span class="number">1</span>] <span class="keyword">in</span> [<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]:</span><br><span class="line">    F=<span class="number">1.8</span>*<span class="built_in">eval</span>(TempStr[<span class="number">0</span>:-<span class="number">1</span>]) + <span class="number">32</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;转换后的温度是&#123;:.2f&#125;F&quot;</span>.<span class="built_in">format</span>(F))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入格式错误&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="数学计算"><a href="#数学计算" class="headerlink" title="数学计算"></a>数学计算</h1><h2 id="浮点数的运算"><a href="#浮点数的运算" class="headerlink" title="浮点数的运算"></a>浮点数的运算</h2><p>在计算的时候由于二进制的转换导致存在不确定尾数,可用round求值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">round</span>(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">1</span>)   <span class="comment">#对计算保留1位小数</span></span><br></pre></td></tr></table></figure>

<p>浮点数的表示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">32e-2</span>  <span class="comment">#相当于0.32</span></span><br></pre></td></tr></table></figure>

<h2 id="其他一些运算函数"><a href="#其他一些运算函数" class="headerlink" title="其他一些运算函数"></a>其他一些运算函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(x)  <span class="comment">#取绝对值</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">divmod</span>(<span class="number">10</span>，<span class="number">3</span>)   <span class="comment">#商余，结果为(3,1)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">pow</span>(x,y[,z])   <span class="comment">#x**y%z,其中z可以省略</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">round</span>(x[,d])   <span class="comment">#d可省略，默认值为0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">max</span>(x1,x2,..,xn)</span><br><span class="line"></span><br><span class="line"><span class="built_in">min</span>(x1,x2,..,xn)</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span>(x)    <span class="comment">#转换为整数</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">float</span>(x)  <span class="comment">#转换为浮点数</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">complex</span>(x) <span class="comment">#转换为复数，xomplex(4)==4+0j</span></span><br><span class="line"></span><br><span class="line">a**b   <span class="comment"># a的b次方</span></span><br><span class="line"></span><br><span class="line">a/b    <span class="comment"># a除以b的浮点数</span></span><br><span class="line"></span><br><span class="line">a//b   <span class="comment"># a除以b的整数</span></span><br></pre></td></tr></table></figure>

<h2 id="例-天天向上"><a href="#例-天天向上" class="headerlink" title="例 天天向上"></a>例 天天向上</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">dayUP</span>(<span class="params">df</span>):</span><br><span class="line">    dayup=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">365</span>):</span><br><span class="line">        <span class="keyword">if</span> i%<span class="number">7</span> <span class="keyword">in</span> [<span class="number">6</span>,<span class="number">0</span>]:</span><br><span class="line">            dayup = dayup*(<span class="number">1</span> - <span class="number">0.01</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dayup = dayup*(<span class="number">1</span> + df)</span><br><span class="line">    <span class="keyword">return</span> dayup</span><br><span class="line">dayfactor = <span class="number">0.01</span></span><br><span class="line"><span class="keyword">while</span> dayUP(dayfactor) &lt; <span class="number">37.78</span>:</span><br><span class="line">    dayfactor +=<span class="number">0.001</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;工作日的努利参数是&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(dayfactor))</span><br></pre></td></tr></table></figure>

<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><h2 id="字符串的定义"><a href="#字符串的定义" class="headerlink" title="字符串的定义"></a>字符串的定义</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;123&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&quot;123&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&quot;&quot;&quot;123</span></span><br><span class="line"><span class="string">                 123&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串的使用"><a href="#字符串的使用" class="headerlink" title="字符串的使用"></a>字符串的使用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#索引</span></span><br><span class="line">&lt;字符串&gt;[M]   <span class="comment">#第M+1个字符</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#切片</span></span><br><span class="line">&lt;字符串&gt;[M:N:K] </span><br><span class="line"><span class="comment">#M:开头  N:结尾  K:步长</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#逆序</span></span><br><span class="line">&lt;字符串&gt;[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#转义符\</span></span><br><span class="line"><span class="string">&quot;使用双引号\&quot;了。&quot;</span>  <span class="comment">#使用双引号&quot;了。</span></span><br><span class="line"><span class="comment">#\b回退  \n换行  \r回车(回到本行的行首)</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串操作符"><a href="#字符串操作符" class="headerlink" title="字符串操作符"></a>字符串操作符</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x + y     <span class="comment">#连接字符串</span></span><br><span class="line"></span><br><span class="line">n*x       <span class="comment">#复制字符串n次</span></span><br><span class="line"></span><br><span class="line">x <span class="keyword">in</span> s    <span class="comment">#判断x是否为s的子串，返回False与True</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串处理函数"><a href="#字符串处理函数" class="headerlink" title="字符串处理函数"></a>字符串处理函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(x)   <span class="comment">#返回字符串长度</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>(x)   <span class="comment">#将x转换为字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">hex</span>(x) <span class="built_in">oct</span>(x)  <span class="comment">#转换为十六进制或八进制的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chr</span>(u)   <span class="comment">#将Unicode编码转换为对应字符</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ord</span>(x)   <span class="comment">#将字符转换为Unicode编码</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串处理方法"><a href="#字符串处理方法" class="headerlink" title="字符串处理方法"></a>字符串处理方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span>.lower()    <span class="comment">#全小写</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.upper()    <span class="comment">#全大写</span></span><br><span class="line"></span><br><span class="line">= <span class="built_in">str</span>.split(s)   <span class="comment">#拆分，&quot;A,B,C&quot;.split(&quot;,&quot;)==[&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.count(sub) <span class="comment">#返回子串sub在str中出现的次数</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.replace(old,new)  <span class="comment">#将old替换成new</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.center(width[,fillchar]) <span class="comment">#&quot;liu&quot;.center(9,&quot;=&quot;) == &#x27;===liu===&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.strip(chars) <span class="comment">#&quot;= python=&quot;.strip(&quot; =np&quot;) == &quot;ytho&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.join(<span class="built_in">iter</span>)  <span class="comment">#&quot;,&quot;.join(&quot;123&quot;) == &quot;1,2,3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.isalpha()   <span class="comment"># 判断是否是字母</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>.isdigit()   <span class="comment"># 判断是否是数字</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">str</span>.capitalize()   <span class="comment"># 如果第一个字符是字母，将首字母大写</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串类型的格式化"><a href="#字符串类型的格式化" class="headerlink" title="字符串类型的格式化"></a>字符串类型的格式化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 槽</span></span><br><span class="line"><span class="string">&quot;&#123;&#125;是一个&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;chenlvtang&quot;</span>,<span class="string">&quot;小天才&quot;</span>)</span><br><span class="line">  ==</span><br><span class="line"><span class="string">&quot;&#123;1&#125;是一个&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;小天才&quot;</span>,<span class="string">&quot;chenlvtang&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#槽内部对格式化的配置方式</span></span><br><span class="line">&#123;&lt;参数序号&gt;:&lt;格式控制标记&gt;&#125;</span><br><span class="line">: &lt;填充&gt; &lt;对齐&gt; &lt;宽度&gt; &lt;,&gt; &lt;.精度&gt; &lt;类型&gt;</span><br><span class="line">    对齐<span class="comment">#&lt;左对齐，&gt;右对齐，^居中</span></span><br><span class="line">    类型<span class="comment">#b二进制,c字符,d十进制,o八进制,x十六进制,X大写十六进制,小e科学计数法,大E科学计数法,f,%以百分式</span></span><br><span class="line"> <span class="string">&quot;0:=^9&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;liu&quot;</span>)==<span class="string">&#x27;===liu===&#x27;</span></span><br><span class="line"> <span class="string">&quot;0:,.2f&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;12345.6789&quot;</span>)==<span class="string">&#x27;12,345.68&#x27;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># %占位符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字叫%s&#x27;</span> %<span class="string">&#x27;小飞侠&#x27;</span>)</span><br><span class="line"></span><br><span class="line">%s</span><br><span class="line"></span><br><span class="line">%d   十进制</span><br><span class="line"></span><br><span class="line">%o   八进制</span><br><span class="line"></span><br><span class="line">%X   十六进制</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># f&#x27;string&#x27;</span></span><br><span class="line">meng=<span class="string">&#x27;梦&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;我的<span class="subst">&#123;meng&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cal_time</span>(<span class="params">fn</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner1</span>():</span><br><span class="line">        start1 = time.time()</span><br><span class="line">        fn()</span><br><span class="line">        end1 = time.time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;代码耗时&#x27;</span>,end1 - start1)</span><br><span class="line">    <span class="keyword">return</span> inner1</span><br><span class="line"></span><br><span class="line"><span class="meta">@cal_time   </span><span class="comment"># 1.调用cal_time 2.将demo传给fn 3.将inner1返回给demo</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Hellow&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;ByeBye&#x27;</span>)</span><br><span class="line"></span><br><span class="line">demo()   <span class="comment"># 此时的demo其实是inner</span></span><br></pre></td></tr></table></figure>

<p>较高级点的用法，在开放封闭原则下修改代码。</p>
<p>在不修改play_game的情况下增加对时间的判断。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">can_game</span>(<span class="params">fn</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner1</span>(<span class="params">name,*args,**kwargs</span>):</span><br><span class="line">        clock1 = kwargs.get(<span class="string">&#x27;clock1&#x27;</span>,<span class="number">23</span>)   <span class="comment"># clock1默认值为23</span></span><br><span class="line">        <span class="keyword">if</span> clock1 &gt; <span class="number">22</span> <span class="keyword">or</span> clock1 &lt; <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;不能打游戏&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            fn(name)</span><br><span class="line">    <span class="keyword">return</span> inner1</span><br><span class="line"></span><br><span class="line"><span class="meta">@can_game</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">play_game</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125;在玩游戏&#x27;</span>.<span class="built_in">format</span>(name))</span><br><span class="line"></span><br><span class="line">play_game(<span class="string">&#x27;李四&#x27;</span>,clock1 = <span class="number">22</span>)</span><br><span class="line">play_game(<span class="string">&#x27;张三&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>高级用法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">can_play</span>(<span class="params">clock</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">handly_action</span>(<span class="params">fn</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">do_action</span>(<span class="params">name,game</span>):</span><br><span class="line">            <span class="keyword">if</span> clock&lt;<span class="number">21</span>:</span><br><span class="line">                fn(name,game)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;太晚了&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> do_action</span><br><span class="line">    <span class="keyword">return</span>  handly_action</span><br><span class="line"></span><br><span class="line"><span class="meta">@can_play(<span class="params"><span class="number">22</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">play_game</span>(<span class="params">name,game</span>):</span><br><span class="line">    <span class="built_in">print</span>(name+<span class="string">&#x27;正在玩&#x27;</span>+game)</span><br><span class="line">    </span><br><span class="line">play_game(<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;warframe&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>权限例题（妙啊~）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">jurisdiction = <span class="number">3</span>   <span class="comment"># 11</span></span><br><span class="line">wjurisdiction = <span class="number">4</span>   <span class="comment"># 100</span></span><br><span class="line">rjurisdiction = <span class="number">2</span>   <span class="comment"># 10</span></span><br><span class="line">ejurisdiction = <span class="number">1</span>   <span class="comment"># 1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">can_play</span>(<span class="params">x,y</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">handly_action</span>(<span class="params">fn</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">do_action</span>():</span><br><span class="line">            <span class="keyword">if</span> x &amp; y !=<span class="number">0</span>:</span><br><span class="line">                fn()</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;你没有权限&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> do_action</span><br><span class="line">    <span class="keyword">return</span> handly_action</span><br><span class="line"></span><br><span class="line"><span class="meta">@can_play(<span class="params">jurisdiction,rjurisdiction</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;你拥有读取权限&#x27;</span>)</span><br><span class="line"><span class="meta">@can_play(<span class="params">jurisdiction,wjurisdiction</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;你拥有写入权限&#x27;</span>)</span><br><span class="line"><span class="meta">@can_play(<span class="params">jurisdiction,ejurisdiction</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">execute</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;你有执行的权限&#x27;</span>)</span><br><span class="line">read()</span><br><span class="line">write()</span><br><span class="line">execute()</span><br></pre></td></tr></table></figure>

<h1 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h1><h2 id="greenlet模块"><a href="#greenlet模块" class="headerlink" title="greenlet模块"></a>greenlet模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> greenlet <span class="keyword">import</span> greenlet</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line">    gr2.switch()</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>)</span><br><span class="line">    gr2.switch()</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func2</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">3</span>)</span><br><span class="line">    gr1.switch()</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">4</span>)</span><br><span class="line">    </span><br><span class="line">gr1 = greenlet(func1)</span><br><span class="line">gr2 = greenlet(func2)</span><br><span class="line"></span><br><span class="line">gr1.switch()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 3 2 4</span></span><br></pre></td></tr></table></figure>

<h2 id="yield关键字"><a href="#yield关键字" class="headerlink" title="yield关键字"></a>yield关键字</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func1</span>():</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> func2()</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func2</span>():</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">f1 = func1()</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> f1:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br></pre></td></tr></table></figure>

<h2 id="asyncio装饰器-3-4"><a href="#asyncio装饰器-3-4" class="headerlink" title="asyncio装饰器(3.4)"></a>asyncio装饰器(3.4)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="meta">@asyncio.coroutine</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@asyncio.coroutine</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func2</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">tasks = [</span><br><span class="line">    asyncio.ensure_future(func1()),</span><br><span class="line">    asyncio.ensure_future(func2())</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(asyncio.wait(tasks))</span><br></pre></td></tr></table></figure>

<h2 id="asyn、await关键字-3-5"><a href="#asyn、await关键字-3-5" class="headerlink" title="asyn、await关键字(3.5)"></a>asyn、await关键字(3.5)</h2><p>await后跟：协程对象、task对象、Future、IO等待</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">func1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">func2</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">tasks = [</span><br><span class="line">    asyncio.ensure_future(func1()),</span><br><span class="line">    asyncio.ensure_future(func2())</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">loop.run_until_complete(asyncio.wait(tasks))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">func</span>():   <span class="comment"># 协程函数</span></span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;Hellow World&#x27;</span>)</span><br><span class="line"></span><br><span class="line">result = func()   <span class="comment"># 协程对象</span></span><br><span class="line"></span><br><span class="line">asyncio.run(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hellow World</span></span><br></pre></td></tr></table></figure>

<h2 id="Task对象"><a href="#Task对象" class="headerlink" title="Task对象"></a>Task对象</h2><p>创建方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">asyncio.create_task()</span><br><span class="line"></span><br><span class="line">loop.create_task()</span><br><span class="line"></span><br><span class="line">asyncio.ensure_future()   # 3.7创建future对象</span><br></pre></td></tr></table></figure>

<p>task的使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;fanhui&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main play&#x27;</span>)</span><br><span class="line">    task_list = [</span><br><span class="line">    <span class="comment">#asyncio.create_task(func(),name=&#x27;n1&#x27;) 可以给定名称</span></span><br><span class="line">    asyncio.create_task(func()),</span><br><span class="line">    asyncio.create_task(func())</span><br><span class="line">    ]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main end&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># done:返回值集合,pending未完成任务集合。</span></span><br><span class="line">    <span class="comment">#done,pending = await asyncio.wait(task_list,timeout=None) 可以给定等待时间</span></span><br><span class="line">    done,pending = <span class="keyword">await</span> asyncio.wait(task_list)</span><br><span class="line">    <span class="built_in">print</span>(done,pending)</span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;fanhui&#x27;</span></span><br><span class="line"></span><br><span class="line">task_list = [</span><br><span class="line">    func(),</span><br><span class="line">    func()</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">asyncio.run(asyncio.wait(task_list))</span><br></pre></td></tr></table></figure>

<h1 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h1><h2 id="if、else、elif"><a href="#if、else、elif" class="headerlink" title="if、else、elif"></a>if、else、elif</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#and与   or或   not非</span></span><br><span class="line">guess = <span class="built_in">eval</span>(<span class="built_in">input</span>())</span><br><span class="line"><span class="keyword">if</span> guess == <span class="number">520</span> <span class="keyword">or</span> guess ==<span class="number">521</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;猜对了&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> guess == <span class="number">500</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;很接近了&quot;</span>)</span><br><span class="line"><span class="keyword">else</span> :</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;猜错了&quot;</span>)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment">#紧凑形式  &lt;表达式1&gt; if &lt;条件&gt; else &lt;表达式2&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;猜对了&quot;</span>) <span class="keyword">if</span> guess ==<span class="number">520</span> <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&quot;猜错了&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;猜&#123;&#125;了&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;对&quot;</span> <span class="keyword">if</span> guess == <span class="number">520</span> <span class="keyword">else</span> <span class="string">&quot;错&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="程序异常理"><a href="#程序异常理" class="headerlink" title="程序异常理"></a>程序异常理</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    abc = <span class="built_in">eval</span>(<span class="built_in">input</span>())</span><br><span class="line">    <span class="built_in">print</span>(abc)</span><br><span class="line"><span class="keyword">except</span>:           <span class="comment">#except &lt;异常类型&gt;   来针对处理某类异常</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;程序异常&quot;</span>)</span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    &lt;语句块<span class="number">1</span>&gt;</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    &lt;语句块<span class="number">2</span>&gt;</span><br><span class="line"><span class="keyword">else</span>:             <span class="comment">#语句1运行的化才运行</span></span><br><span class="line">    &lt;语句块<span class="number">3</span>&gt;</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    &lt;语句块<span class="number">4</span>&gt;      <span class="comment">#一定运行</span></span><br></pre></td></tr></table></figure>

<p>自定义异常</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LengthError</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;位数错误&#x27;</span></span><br><span class="line">a = <span class="built_in">input</span>(<span class="string">&#x27;请输入6位密码:&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(a) != <span class="number">6</span>:</span><br><span class="line">    <span class="keyword">raise</span> LengthError   <span class="comment"># raise抛出异常</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;输入正确&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#数字</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment">#0 \n 1 \n 2 \n 3 \n</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment">#1 \n 2 \n 3 \n</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> rang(<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment">#1 \n 3 \n 5 \n</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">str</span> <span class="keyword">in</span> <span class="string">&quot;Hellow&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>,end=<span class="string">&quot;,&quot;</span>)</span><br><span class="line"><span class="comment">#H,e,l,l,o,w,</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">enumerate</span>([<span class="number">123</span>,<span class="string">&quot;python&quot;</span>,<span class="number">456</span>]):</span><br><span class="line">    <span class="built_in">print</span>(item,end=<span class="string">&quot;,&quot;</span>)</span><br><span class="line"><span class="comment">#123,python,456</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#文件</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> fi:</span><br><span class="line">    <span class="built_in">print</span>(line)</span><br><span class="line"><span class="comment">#遍历每一行</span></span><br></pre></td></tr></table></figure>

<h2 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> a&gt;<span class="number">0</span>:</span><br><span class="line">    a = a-<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line"><span class="keyword">while</span> <span class="keyword">not</span> gameOver(a,b):</span><br><span class="line">    <span class="keyword">if</span>(x&gt;a):</span><br><span class="line">        a++</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        b++</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gameOver</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">return</span> a==<span class="number">15</span> <span class="keyword">or</span> b==<span class="number">15</span></span><br></pre></td></tr></table></figure>

<h2 id="循环搭配else"><a href="#循环搭配else" class="headerlink" title="循环搭配else"></a>循环搭配else</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">&quot;python&quot;</span>:</span><br><span class="line">    <span class="keyword">if</span> c == <span class="string">&quot;t&quot;</span>:</span><br><span class="line">        <span class="keyword">continue</span>      <span class="comment">#break时，else不运行</span></span><br><span class="line">    <span class="built_in">print</span>(c,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:                 <span class="comment">#只有当循环中执行break时，该语句才不执行</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;正常退出&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="例-圆周率计算"><a href="#例-圆周率计算" class="headerlink" title="例 圆周率计算"></a>例 圆周率计算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">0</span></span><br><span class="line">N = <span class="number">100</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(N) :</span><br><span class="line">    pi += <span class="number">1</span>/<span class="built_in">pow</span>(<span class="number">16</span>,k)*( \</span><br><span class="line">        <span class="number">4</span>/(<span class="number">8</span>*k+<span class="number">1</span>)-<span class="number">2</span>/(<span class="number">8</span>*k+<span class="number">4</span>) - \</span><br><span class="line">        <span class="number">1</span>/(<span class="number">8</span>*k+<span class="number">5</span>) - <span class="number">1</span>/(<span class="number">8</span>*k+<span class="number">6</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;圆周率值是:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(pi))</span><br></pre></td></tr></table></figure>

<h1 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fact</span>(<span class="params">n,m=<span class="number">1</span></span>): <span class="comment">#n为非可选参数，m为可选参数，调用时m可有可无</span></span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">        s *= i</span><br><span class="line">    <span class="keyword">return</span> s//m</span><br><span class="line"><span class="comment">#fact(10) == 10!//1  fact(10,2) == 10!//2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fact</span>(<span class="params">n,m=<span class="number">1</span></span>):</span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">        s *= i</span><br><span class="line">    <span class="keyword">return</span> s//m,n,m</span><br><span class="line"><span class="comment">#赋值a,b,c = fact(10,5)  == (725760,10,5)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fact</span>(<span class="params">n, *args, **kwargs</span>):  <span class="comment"># b为可变参数，填几个都行</span></span><br><span class="line">    <span class="built_in">print</span>(n,args,kwargs)</span><br><span class="line"><span class="comment">#fact(1,2,3,a=4,b=5) == 1 (2,3) &#123;&#x27;a&#x27;:4,&#x27;b&#x27;:5&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="lambda紧凑函数"><a href="#lambda紧凑函数" class="headerlink" title="lambda紧凑函数"></a>lambda紧凑函数</h1><p>少用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;函数名&gt; = <span class="keyword">lambda</span> &lt;参数&gt; : &lt;表达式&gt;  <span class="comment">#紧凑函数</span></span><br><span class="line"></span><br><span class="line">f = <span class="keyword">lambda</span> x,y : x + y</span><br><span class="line"><span class="comment"># f(1,2) == 3</span></span><br><span class="line"></span><br><span class="line">f = <span class="keyword">lambda</span> : <span class="string">&quot;Hellow&quot;</span></span><br><span class="line"><span class="comment"># print(f()) = Hellow</span></span><br></pre></td></tr></table></figure>

<p>多用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">abc</span>(<span class="params">x,y,lam</span>):</span><br><span class="line">    a = lam(x,y)</span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">abc(<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">lambda</span> a,b:a+b)</span><br></pre></td></tr></table></figure>

<p>对含有字典的列表排序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test = [</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;LiMing&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">18</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;WangLei&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">10</span>&#125;</span><br><span class="line">]</span><br><span class="line">test.sort(key=<span class="keyword">lambda</span> x:x[<span class="string">&#x27;age&#x27;</span>])   <span class="comment"># 传递给key的必须是函数</span></span><br><span class="line"><span class="built_in">print</span>(test)   <span class="comment"># [&#123;&#x27;name&#x27;: &#x27;WangLei&#x27;, &#x27;age&#x27;: 10&#125;, &#123;&#x27;name&#x27;: &#x27;LiMing&#x27;, &#x27;age&#x27;: 18&#125;]</span></span><br></pre></td></tr></table></figure>

<h2 id="filter过滤"><a href="#filter过滤" class="headerlink" title="filter过滤"></a>filter过滤</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">test = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">x = <span class="built_in">filter</span>(<span class="keyword">lambda</span> ls : ls &gt; <span class="number">3</span>,test)</span><br><span class="line"><span class="comment"># x为可迭代对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出方法1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> x:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出方法2</span></span><br><span class="line">ls1 = <span class="built_in">list</span>(x)</span><br><span class="line"><span class="built_in">print</span>(ls1)</span><br></pre></td></tr></table></figure>

<h2 id="map改动元素"><a href="#map改动元素" class="headerlink" title="map改动元素"></a>map改动元素</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">x = <span class="built_in">map</span>(<span class="keyword">lambda</span> ls : ls + <span class="number">2</span>,test)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(x))</span><br></pre></td></tr></table></figure>

<h2 id="reduce相加"><a href="#reduce相加" class="headerlink" title="reduce相加"></a>reduce相加</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">test = [</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;LiMing&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">18</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;WangLei&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">10</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;MaXiao&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">20</span>&#125;</span><br><span class="line">]</span><br><span class="line"><span class="built_in">print</span>(reduce(<span class="keyword">lambda</span> x, y: x + y[<span class="string">&#x27;age&#x27;</span>], test, <span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<h1 id="PyInstaller打包程序"><a href="#PyInstaller打包程序" class="headerlink" title="PyInstaller打包程序"></a>PyInstaller打包程序</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#小小程序耽误我一晚，该死。</span></span><br><span class="line"><span class="comment">#需要安装pyinstaller第三方库</span></span><br><span class="line"></span><br><span class="line">-h     <span class="comment">#查看帮助</span></span><br><span class="line">--clean    <span class="comment">#清理打包过程中的临时文件</span></span><br><span class="line">-D,-onedir  <span class="comment">#默认值，生成dist文件</span></span><br><span class="line">-F,-onefile  <span class="comment">#在dist文件夹中只生成独立的打包文件</span></span><br><span class="line">-i &lt;图标文件名.ico&gt; <span class="comment">#指定打包程序使用的图标文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#小结</span></span><br><span class="line"> <span class="comment">#最好都带有-F，生成的pycache与build可删除</span></span><br><span class="line"> <span class="comment">#该程序在cmd中运行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#例子</span></span><br><span class="line">pyinstaller -i tu.ico -F test.py</span><br></pre></td></tr></table></figure>

<h1 id="组合数据类型"><a href="#组合数据类型" class="headerlink" title="组合数据类型"></a>组合数据类型</h1><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>元素特征：无序、唯一、不可更改</p>
<p>表示：{1,2,3}</p>
<p>创建：{}  或 set()创建可变集合              创建空集合必须用set()</p>
<p>​           frozenset创建不可变集合</p>
<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A=&#123;<span class="number">123</span>,<span class="string">&quot;abc&quot;</span>,(<span class="string">&quot;abc&quot;</span>,<span class="number">123</span>)&#125;    <span class="comment">#&#123;123,&#x27;abc&#x27;,(&#x27;abc&#x27;,123)&#125;</span></span><br><span class="line"></span><br><span class="line">B=<span class="built_in">set</span>(<span class="string">&quot;abca&quot;</span>)     <span class="comment">#&#123;a,c,b&#125; 无序，相同只有一个</span></span><br></pre></td></tr></table></figure>

<h3 id="集合操作符"><a href="#集合操作符" class="headerlink" title="集合操作符"></a>集合操作符</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">S|T<span class="comment">#并   </span></span><br><span class="line">S&amp;T<span class="comment">#交   </span></span><br><span class="line">S-T<span class="comment">#差   </span></span><br><span class="line">S^T<span class="comment">#补</span></span><br><span class="line">S&gt;=T</span><br><span class="line">...</span><br><span class="line"><span class="comment">#增强操作符</span></span><br><span class="line">S|=T  <span class="comment">#对S进行更新</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="集合处理方法"><a href="#集合处理方法" class="headerlink" title="集合处理方法"></a>集合处理方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">S.add(x)</span><br><span class="line"></span><br><span class="line">S.update(x)   <span class="comment"># 将可迭代对象x拆分放入集合</span></span><br><span class="line"></span><br><span class="line">S.discard(x)  <span class="comment">#移除，不存在，不报错</span></span><br><span class="line"></span><br><span class="line">S.remove(x)   <span class="comment">#移除，不存在，报错KeyError</span></span><br><span class="line"></span><br><span class="line">S.clear()   <span class="comment"># 清空</span></span><br><span class="line"></span><br><span class="line">S.pop()  <span class="comment">#返回第一个数并删除，更新S，为空KeyError</span></span><br><span class="line"></span><br><span class="line">S.copy()  <span class="comment">#返回S的副本</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span>(S)</span><br><span class="line"></span><br><span class="line">x <span class="keyword">in</span> S  <span class="comment">#True or False</span></span><br><span class="line"></span><br><span class="line">x <span class="keyword">not</span> <span class="keyword">in</span> S</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(x)  <span class="comment">#转换为集合</span></span><br></pre></td></tr></table></figure>

<h3 id="例-数据去重"><a href="#例-数据去重" class="headerlink" title="例 数据去重"></a>例 数据去重</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l=[<span class="string">&quot;p&quot;</span>,<span class="string">&quot;p&quot;</span>,<span class="string">&quot;y&quot;</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">s=<span class="built_in">set</span>(l)     <span class="comment">#&#123;&#x27;p&#x27;,&#x27;y&#x27;,1,2&#125;</span></span><br><span class="line">l=<span class="built_in">list</span>(s)    <span class="comment">#[&#x27;p&#x27;,&#x27;y&#x27;,1,2]</span></span><br></pre></td></tr></table></figure>

<h2 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h2><p>元素特征：有序，不唯一，基类类型，包含字符串类型、元组类型、列表类型</p>
<p>序号规则：</p>
<p>0   1   2   3  4  5  6 </p>
<p>————————&gt;</p>
<p>&lt;———————–</p>
<p>-7 -6 -5 -4 -3 -2 -1</p>
<h3 id="序列操作符"><a href="#序列操作符" class="headerlink" title="序列操作符"></a>序列操作符</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x <span class="keyword">in</span> S</span><br><span class="line"></span><br><span class="line">x <span class="keyword">not</span> <span class="keyword">in</span> S</span><br><span class="line"></span><br><span class="line">x+t</span><br><span class="line"></span><br><span class="line">n*s</span><br><span class="line"></span><br><span class="line">s[i]   <span class="comment">#索引，返回i序号的元素</span></span><br><span class="line"></span><br><span class="line">s[i:j:k]  <span class="comment">#切片</span></span><br></pre></td></tr></table></figure>

<h3 id="序列处理方法"><a href="#序列处理方法" class="headerlink" title="序列处理方法"></a>序列处理方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">len(s)</span><br><span class="line"></span><br><span class="line">min(s)</span><br><span class="line"></span><br><span class="line">max(s)</span><br><span class="line"></span><br><span class="line">s.index(x)  #返回x的位置</span><br><span class="line"></span><br><span class="line">s.index(x,i,j)  #给定范围i~j</span><br></pre></td></tr></table></figure>

<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><p>元素特征：创建后不能修改，继承序列的全部方法</p>
<p>创建：() 或 tuple()</p>
<p>规则：元组的()可有可无</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>,<span class="number">1</span>  <span class="comment">#1,2为元组类型</span></span><br></pre></td></tr></table></figure>

<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>元素特征：创建后可以修改，不唯一，无长度限制</p>
<p>创建：[] 或 list()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">l=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">t=l   <span class="comment">#t与l均指向同一列表</span></span><br></pre></td></tr></table></figure>

<h3 id="列表操作符"><a href="#列表操作符" class="headerlink" title="列表操作符"></a>列表操作符</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ls[i]=x   <span class="comment">#替换</span></span><br><span class="line"></span><br><span class="line">ls[i:j:k]=lt</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> ls[i]    <span class="comment">#删除</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> ls[i:j:k]</span><br><span class="line"></span><br><span class="line">ls += lt</span><br><span class="line"></span><br><span class="line">ls *= n</span><br></pre></td></tr></table></figure>

<h3 id="列表处理方法"><a href="#列表处理方法" class="headerlink" title="列表处理方法"></a>列表处理方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ls.append(x)   <span class="comment">#ls[i].append(x)用于嵌套列表</span></span><br><span class="line"></span><br><span class="line">ls1.extend(ls2)   <span class="comment"># 连接</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> ls[<span class="number">0</span>]   <span class="comment">#删除ls的第一个元素</span></span><br><span class="line"></span><br><span class="line">ls.index(values)   <span class="comment"># 查询元素所在位置</span></span><br><span class="line"></span><br><span class="line">ls.clear()</span><br><span class="line"></span><br><span class="line">ls.copy()</span><br><span class="line"></span><br><span class="line">ls.insert(i,x)</span><br><span class="line"></span><br><span class="line">ls.pop(i)   <span class="comment">#默认返回并删除最后一个元素，取出第i+1个元素</span></span><br><span class="line"></span><br><span class="line">ls.remove(x)</span><br><span class="line"></span><br><span class="line">ls.reverse()   <span class="comment">#元素顺序反转，覆盖原列表</span></span><br><span class="line"></span><br><span class="line">ls.sort(key=<span class="built_in">len</span>,reverse=<span class="literal">True</span>) <span class="comment"># 按长度降序排列，直接覆盖原列表</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sorted</span>(<span class="built_in">list</span>) <span class="comment"># 将列表升序排列，生成一个新列表</span></span><br></pre></td></tr></table></figure>

<h2 id="字典（映射）"><a href="#字典（映射）" class="headerlink" title="字典（映射）"></a>字典（映射）</h2><p>字典是键值对的集合，键值对之间无序</p>
<p>创建：{} 或 dict()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&lt;键<span class="number">1</span>&gt;:&lt;值<span class="number">1</span>&gt;,&lt;键<span class="number">2</span>&gt;:&lt;值<span class="number">2</span>&gt;...&#125;</span><br><span class="line"></span><br><span class="line">d = <span class="built_in">dict</span>(<span class="number">1</span>=<span class="string">&#x27;a&#x27;</span>,<span class="number">2</span>=<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&lt;值&gt; = &lt;字典变量&gt;[&lt;键&gt;]</span><br><span class="line"></span><br><span class="line">&lt;字典变量&gt;[&lt;键&gt;] = &lt;值&gt;    <span class="comment">#用来增加键值对</span></span><br></pre></td></tr></table></figure>

<h3 id="字典处理方法"><a href="#字典处理方法" class="headerlink" title="字典处理方法"></a>字典处理方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> d[k]</span><br><span class="line"></span><br><span class="line">k <span class="keyword">in</span> d</span><br><span class="line"></span><br><span class="line">d.keys()</span><br><span class="line"></span><br><span class="line">d.values()</span><br><span class="line"></span><br><span class="line">d.items()  <span class="comment">#返回所有</span></span><br><span class="line"></span><br><span class="line">d.get(k,&lt;default&gt;)   <span class="comment">#k不存在则返回default值</span></span><br><span class="line"></span><br><span class="line">d.pop(k,&lt;default&gt;)   <span class="comment">#取出</span></span><br><span class="line"></span><br><span class="line">d.popitem()  <span class="comment">#取出最后一个，以元组类型返回</span></span><br><span class="line"></span><br><span class="line">d1.update(d2)   <span class="comment"># 连接</span></span><br><span class="line"></span><br><span class="line">d.clear()</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span>(d)</span><br></pre></td></tr></table></figure>

<h3 id="例-统计文本单词数量"><a href="#例-统计文本单词数量" class="headerlink" title="例 统计文本单词数量"></a>例 统计文本单词数量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getText</span>():</span><br><span class="line">    txt = <span class="built_in">open</span>(<span class="string">&quot;hamlet.txt&quot;</span>,<span class="string">&quot;r&quot;</span>).read()</span><br><span class="line">    txt = txt.lower()</span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">&#x27;|&quot;#$%&amp;*+,-./:;&lt;=&gt;?@[\\]^_`&#123;|&#125;~&#x27;</span>:</span><br><span class="line">        txt = txt.replace(ch,<span class="string">&quot; &quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> txt</span><br><span class="line"></span><br><span class="line">hamletTxt = getText()</span><br><span class="line">words = hamletTxt.split()</span><br><span class="line">counts = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">    counts[word] = counts.get(word,<span class="number">0</span>)+<span class="number">1</span></span><br><span class="line">items = <span class="built_in">list</span>(counts.items())</span><br><span class="line">items.sort(key=<span class="keyword">lambda</span> x:x[<span class="number">1</span>],reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="comment">#lambda指明按key排序，reverse为从大到小</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    word,count=items[i]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;0:&lt;10&#125;&#123;1:&gt;5&#125;&quot;</span>.<span class="built_in">format</span>(word,count))</span><br></pre></td></tr></table></figure>

<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h2 id="魔法方法"><a href="#魔法方法" class="headerlink" title="魔法方法"></a>魔法方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    </span><br><span class="line">   <span class="comment"># __slots__ = (&#x27;name&#x27;,&#x27;sex&#x27;)   # 用来限制类的变量，只允许有元组内的变量，不允许添加</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,sex</span>):   <span class="comment"># 一定要写的</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.sex = sex</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">introduce</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;self.name&#125;</span>是一个<span class="subst">&#123;self.sex&#125;</span>&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):   <span class="comment"># 可以不用写，在对象被释放时自动调用</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;销毁对象&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):   <span class="comment"># 在输出对象时调用</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Hellow&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):   <span class="comment"># 与repr一样，当两个方法都重写时，调用str,str()时调用</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;good&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, *args, **kwargs</span>):   <span class="comment"># 把对象当函数时自动调用</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;p1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">p1 = Student(<span class="string">&#x27;小明&#x27;</span>,<span class="string">&#x27;男&#x27;</span>)</span><br><span class="line">p2 = Student(<span class="string">&#x27;小美&#x27;</span>,<span class="string">&#x27;女&#x27;</span>)</span><br><span class="line"></span><br><span class="line">p1.time = <span class="string">&#x27;孩子&#x27;</span>   <span class="comment"># 向p1对象里添加变量</span></span><br><span class="line"><span class="built_in">print</span>(p1.time)</span><br><span class="line"></span><br><span class="line">p1.introduce()</span><br><span class="line">p2.introduce()</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> (p1,p2)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__eq__</span>(<span class="params">self,other</span>)   <span class="comment"># a == b时调用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__ne__</span>(<span class="params">self,other</span>)   <span class="comment"># a != b</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__gt__</span>(<span class="params">self,other</span>)   <span class="comment"># a &gt; b</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__ge__</span>(<span class="params">self,other</span>)   <span class="comment"># a &gt;= b</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__lt__</span>(<span class="params">self,other</span>)   <span class="comment"># a &lt; b</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__le__</span>(<span class="params">self,other</span>)   <span class="comment"># &lt;=</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self,other</span>)   <span class="comment"># +</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__sub__</span>(<span class="params">self,other</span>)   <span class="comment"># -</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self,other</span>)   <span class="comment"># *</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__truediv__</span>(<span class="params">self,other</span>)   <span class="comment"># /</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__pow__</span>(<span class="params">self,other</span>)   <span class="comment"># **</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__int__</span>(<span class="params">self</span>)   <span class="comment"># int()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__float__</span>(<span class="params">self</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__setitem__</span>(<span class="params">self,key,value</span>):   <span class="comment"># p[&#x27;name&#x27;] = &#x27;王五&#x27;</span></span><br><span class="line">    self.__dict__[key] = value</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,item</span>):   <span class="comment"># p[&#x27;name&#x27;]</span></span><br><span class="line">    <span class="keyword">return</span> self.__dict__[key]</span><br></pre></td></tr></table></figure>

<h2 id="例-房屋家具添加"><a href="#例-房屋家具添加" class="headerlink" title="例 房屋家具添加"></a>例 房屋家具添加</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#房子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">house</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,house_type,areas,furniture = <span class="literal">None</span></span>):</span><br><span class="line">        self.house_type = house_type</span><br><span class="line">        self.areas = areas</span><br><span class="line">        self.residue_area = areas</span><br><span class="line">        self.furniture = furniture = []</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_furn</span>(<span class="params">self,furn</span>):</span><br><span class="line">        <span class="keyword">if</span> furn.areas1 &gt; self.residue_area:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;不能添加&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.furniture.append(furn.name)</span><br><span class="line">            self.residue_area -= furn.areas1</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">out</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.house_type,self.areas,self.residue_area,self.furniture)</span><br><span class="line"><span class="comment">#家具类     </span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">furn</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,areas1</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.areas1 = areas1</span><br><span class="line"><span class="comment">#家具对象</span></span><br><span class="line">f1 = furn(<span class="string">&#x27;席梦思&#x27;</span>,<span class="number">4</span>)</span><br><span class="line">f2 = furn(<span class="string">&#x27;衣柜&#x27;</span>,<span class="number">2</span>)</span><br><span class="line">f3 = furn(<span class="string">&#x27;餐桌&#x27;</span>,<span class="number">1.5</span>)</span><br><span class="line"><span class="comment">#房屋对象</span></span><br><span class="line">h1 = house(<span class="string">&#x27;别墅&#x27;</span>,<span class="number">10</span>)</span><br><span class="line"><span class="comment">#添加活动</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    select1 = <span class="built_in">input</span>(<span class="string">&#x27;请输入添加的物品&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> select1 == <span class="string">&#x27;no&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        h1.add_furn(<span class="built_in">eval</span>(select1))</span><br><span class="line">        h1.out()</span><br></pre></td></tr></table></figure>

<h2 id="类属性、对象属性"><a href="#类属性、对象属性" class="headerlink" title="类属性、对象属性"></a>类属性、对象属性</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    per = <span class="string">&#x27;human&#x27;</span>   <span class="comment"># 类属性</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        self.name = name   <span class="comment">#对象属性</span></span><br><span class="line">        self.age = age</span><br><span class="line">p1 = person(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>)</span><br><span class="line">p1.per = <span class="string">&#x27;pig&#x27;</span>   <span class="comment"># 为p1对象添加新的对象属性</span></span><br><span class="line"><span class="comment">#调用类属性</span></span><br><span class="line">person.per</span><br><span class="line">p1.per</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改类属性</span></span><br><span class="line">person.per = <span class="string">&#x27;monkey&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="私有属性、私有方法"><a href="#私有属性、私有方法" class="headerlink" title="私有属性、私有方法"></a>私有属性、私有方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    __p2 = <span class="string">&#x27;siren&#x27;</span>   <span class="comment"># 私有属性</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_p2</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.__p2)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__test</span>(<span class="params">self</span>):   <span class="comment"># 私有方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;私有方法&#x27;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_test</span>(<span class="params">self</span>):</span><br><span class="line">        self.__test()</span><br><span class="line">p = person(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用私有变量的两种方法</span></span><br><span class="line"><span class="built_in">print</span>(p._person__p2)</span><br><span class="line">p.get_p2()</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用私有方法的两种方法</span></span><br><span class="line">p._person__test()</span><br><span class="line">p.get_test()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="类方法、静态方法"><a href="#类方法、静态方法" class="headerlink" title="类方法、静态方法"></a>类方法、静态方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    p1 = <span class="string">&#x27;hellow&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;www&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">static_test</span>():   <span class="comment"># 没用到self的变量</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;静态方法&#x27;</span>)</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">class_test</span>(<span class="params">cls</span>):   <span class="comment"># 只能用类变量</span></span><br><span class="line">        <span class="built_in">print</span>(cls.p1)</span><br><span class="line">p = person(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#对象方法调用(实例方法)</span></span><br><span class="line">p.test()</span><br><span class="line"></span><br><span class="line"><span class="comment">#静态方法调用</span></span><br><span class="line">person.static_test()</span><br><span class="line">p.static_test()</span><br><span class="line"></span><br><span class="line"><span class="comment">#类方法调用</span></span><br><span class="line">person.class_test()</span><br><span class="line">p.class_test()</span><br></pre></td></tr></table></figure>

<h2 id="单例设计模式"><a href="#单例设计模式" class="headerlink" title="单例设计模式"></a>单例设计模式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    __frist = <span class="literal">True</span></span><br><span class="line">    __instance = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls, *args, **kwargs</span>):   <span class="comment"># 为对象申请空间时调用</span></span><br><span class="line">        <span class="keyword">if</span> cls.__instance == <span class="literal">None</span>:</span><br><span class="line">            cls.__instance = <span class="built_in">object</span>.__new__(cls)</span><br><span class="line">        <span class="keyword">return</span> cls.__instance</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        <span class="keyword">if</span> self.__frist:</span><br><span class="line">            self.name = name</span><br><span class="line">            self.age = age</span><br><span class="line">            self.__frist = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name,self.age)</span><br><span class="line">        </span><br><span class="line">p = person(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">p1 = person(<span class="string">&#x27;李祥&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">p.test()</span><br></pre></td></tr></table></figure>

<h1 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h1><p>子类不会继承父类的私有方法和属性</p>
<p>单继承#</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name,<span class="string">&#x27;吃饭&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">xiao_hong</span>(<span class="title class_ inherited__">person</span>):   <span class="comment"># 继承person类</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age,sex</span>):   <span class="comment"># 在父类基础上增加属性</span></span><br><span class="line">        <span class="comment">#方法一</span></span><br><span class="line"><span class="comment">#       person.__init__(self,name,age)</span></span><br><span class="line">        <span class="comment">#方法二,推荐使用</span></span><br><span class="line">        <span class="built_in">super</span>(xiao_hong,self).__init__(name,age)</span><br><span class="line">        self.sex = sex</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">go_school</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name,<span class="string">&#x27;上学&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">p1 = xiao_hong(<span class="string">&#x27;小红&#x27;</span>,<span class="string">&#x27;18&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用父类的__init__、eat。</span></span><br><span class="line">p1.eat()</span><br><span class="line">p1.go_school()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断是一个类或其父类的对象</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(p1, person))   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(xiao_hong,person))   <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<p>多继承</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name,<span class="string">&#x27;吃饭&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">xiao_hong</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">go_school</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name,<span class="string">&#x27;上学&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">xiao_ming</span>(person,xiao_hong):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">p2 = xiao_ming(<span class="string">&#x27;小明&#x27;</span>,<span class="string">&#x27;19&#x27;</span>)</span><br><span class="line">p2.eat()</span><br><span class="line">p2.go_school()</span><br></pre></td></tr></table></figure>

<h1 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h1><h2 id="文件的打开与关闭"><a href="#文件的打开与关闭" class="headerlink" title="文件的打开与关闭"></a>文件的打开与关闭</h2><p>存储状态 与 占用状态 的转换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打开</span></span><br><span class="line">&lt;变量名&gt; = <span class="built_in">open</span>(&lt;文件名&gt;,&lt;打开模式&gt;,encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"><span class="comment">#文件名</span></span><br><span class="line">在不同目录时用绝对路径</span><br><span class="line"><span class="comment">#打开模式</span></span><br><span class="line"><span class="string">&#x27;r&#x27;</span>  <span class="comment">#只读，不存在返回FileNotFoundErrpr，默认值</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;w&#x27;</span>  <span class="comment">#覆盖写,不存在就创建，存在就覆盖</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>  <span class="comment">#创建写，不存在就创建，存在返回FileExistsError</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;a&#x27;</span>  <span class="comment">#追加写，不存在就创建，存在就在文件内容和继续写</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;b&#x27;</span>  <span class="comment">#二进制形式打开</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;t&#x27;</span>  <span class="comment">#文本文件形式打开，默认值</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;+&#x27;</span>  <span class="comment">#与r/w/x/a一起用，增加读写功能</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#关闭</span></span><br><span class="line">&lt;变量名&gt;.close()</span><br></pre></td></tr></table></figure>

<h2 id="文件内容的读取"><a href="#文件内容的读取" class="headerlink" title="文件内容的读取"></a>文件内容的读取</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;f&gt;.read(x)  <span class="comment">#读取长度为x的信息，x可有可无</span></span><br><span class="line"></span><br><span class="line">&lt;f&gt;.readline()  <span class="comment">#用while一行一行输出</span></span><br><span class="line"></span><br><span class="line">&lt;f&gt;.readlines()  <span class="comment"># 将每一行放入列表中</span></span><br></pre></td></tr></table></figure>

<h2 id="文件内容的写入"><a href="#文件内容的写入" class="headerlink" title="文件内容的写入"></a>文件内容的写入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;f&gt;.write(s)</span><br><span class="line"></span><br><span class="line">&lt;f&gt;.writelines(lines) <span class="comment">#写入一个字符串列表,字符串之间紧挨</span></span><br><span class="line"></span><br><span class="line">&lt;f&gt;.seek(x)  <span class="comment">#0-文件开头,1-当前位置,2-文件结尾</span></span><br></pre></td></tr></table></figure>

<h2 id="CSV文件的写读"><a href="#CSV文件的写读" class="headerlink" title="CSV文件的写读"></a>CSV文件的写读</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="comment"># 写</span></span><br><span class="line">filew = <span class="built_in">open</span>(<span class="string">&#x27;t2.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment"># nexline写入时不空行</span></span><br><span class="line">w = csv.writer(filew)</span><br><span class="line">w.writerows([[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;age&#x27;</span>],[<span class="string">&#x27;lihua&#x27;</span>,<span class="string">&#x27;boy&#x27;</span>,<span class="number">19</span>],[<span class="string">&#x27;mary&#x27;</span>,<span class="string">&#x27;gril&#x27;</span>,<span class="string">&#x27;18&#x27;</span>]])</span><br><span class="line">filew.close()</span><br><span class="line"><span class="comment"># 读</span></span><br><span class="line">filer = <span class="built_in">open</span>(<span class="string">&#x27;t2.csv&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">r = csv.reader(filer)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> r:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">filer.close()</span><br></pre></td></tr></table></figure>

<h2 id="例-自动绘制"><a href="#例-自动绘制" class="headerlink" title="例 自动绘制"></a>例 自动绘制</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line">t.title(<span class="string">&#x27;自动轨迹绘制&#x27;</span>)</span><br><span class="line">t.setup(<span class="number">800</span>,<span class="number">600</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">t.pencolor(<span class="string">&quot;red&quot;</span>)</span><br><span class="line">t.pensize(<span class="number">5</span>)</span><br><span class="line"><span class="comment">#数据读取</span></span><br><span class="line">datals = []</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;data.txt&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    line = line.replace(<span class="string">&quot;\n&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    datals.append(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">eval</span>,line.split(<span class="string">&quot;,&quot;</span>)))) <span class="comment">#map让eval对分节后的每个字符串使用</span></span><br><span class="line">f.close()</span><br><span class="line"><span class="comment">#自动绘制</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(datals)):</span><br><span class="line">    t.pencolor(datals[i][<span class="number">3</span>],datals[i][<span class="number">4</span>],datals[i][<span class="number">5</span>])</span><br><span class="line">    t.fd(datals[i][<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">if</span> datals[i][<span class="number">1</span>]:</span><br><span class="line">        t.right(datals[i][<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        t.left(datals[i][<span class="number">2</span>])</span><br><span class="line"><span class="comment">#数据</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;300,0,144,1,0,0</span></span><br><span class="line"><span class="string">300,0,144,0,1,0</span></span><br><span class="line"><span class="string">300,0,144,0,0,1</span></span><br><span class="line"><span class="string">300,0,144,1,1,0</span></span><br><span class="line"><span class="string">300,0,108,0,1,1</span></span><br><span class="line"><span class="string">184,0,72,1,0,1</span></span><br><span class="line"><span class="string">184,0,72,0,0,0</span></span><br><span class="line"><span class="string">184,0,72,0,0,0</span></span><br><span class="line"><span class="string">184,0,72,0,0,0</span></span><br><span class="line"><span class="string">184,1,72,1,0,1</span></span><br><span class="line"><span class="string">184,1,72,0,0,0</span></span><br><span class="line"><span class="string">184,1,72,0,0,0</span></span><br><span class="line"><span class="string">184,1,72,0,0,0</span></span><br><span class="line"><span class="string">184,1,72,0,0,0</span></span><br><span class="line"><span class="string">184,1,720,0,0,0&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="with上下文管理器"><a href="#with上下文管理器" class="headerlink" title="with上下文管理器"></a>with上下文管理器</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;t.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file.read()   <span class="comment"># with可以让文件自动关闭</span></span><br><span class="line"><span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;文件不存在&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>with后的对象需要实现的方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__enter__</span><br><span class="line">__exit__</span><br></pre></td></tr></table></figure>

<p>自定义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Updown</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;enter&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_val, exc_tb</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;eixt&#x27;</span>)</span><br><span class="line"><span class="keyword">with</span> Updown() <span class="keyword">as</span> ud:</span><br><span class="line">    <span class="built_in">print</span>(ud)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line">enter</span><br><span class="line">&lt;__main__.Updown <span class="built_in">object</span> at <span class="number">0x0000018FEE0A0108</span>&gt;</span><br><span class="line">eixt</span><br></pre></td></tr></table></figure>

<h1 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">        self.count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.count &lt;= self.x:</span><br><span class="line">            <span class="keyword">return</span> self.count</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration   <span class="comment"># 停止迭代器</span></span><br><span class="line">            </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Demo(<span class="number">10</span>):   <span class="comment"># for..in..本质:调用对象大的iter方法，获得返回值，返回值为一个对象，然后再调用对象的__next__方法</span></span><br><span class="line">    <span class="built_in">print</span>(i,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="re正则表达式"><a href="#re正则表达式" class="headerlink" title="re正则表达式"></a>re正则表达式</h1><p>使用原生字符串表达，r’text’</p>
<p>old: ‘Hellow’</p>
<p>new: r’Hellow’</p>
<h2 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.       任何单个字符</span><br><span class="line"></span><br><span class="line">[]      [a-z]a到z的范围</span><br><span class="line"></span><br><span class="line">[^ ]    非[^abc]不包括abc</span><br><span class="line"></span><br><span class="line">*        abc*表示ab、abc、abcc等，0次或无限次扩展</span><br><span class="line"></span><br><span class="line">+        前一字符1次或无限次扩展</span><br><span class="line"></span><br><span class="line">?        0次或1次扩展</span><br><span class="line"></span><br><span class="line">|        abc|def，表示abc、def</span><br><span class="line"></span><br><span class="line">&#123;m&#125;      ab&#123;2&#125;c表示abbc</span><br><span class="line"></span><br><span class="line">&#123;m,n&#125;    ab&#123;1,2&#125;c表示abc,abbc</span><br><span class="line"></span><br><span class="line">^        开头</span><br><span class="line"></span><br><span class="line">$        结尾</span><br><span class="line"></span><br><span class="line">()       分组，内部只能用|</span><br><span class="line"></span><br><span class="line">\d       数字</span><br><span class="line"></span><br><span class="line">\w       字母和数字</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[\u4e00-\u9fa5]  匹配中文字符</span><br></pre></td></tr></table></figure>

<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">re.<span class="built_in">compile</span>(pattern,flags=<span class="number">0</span>) <span class="comment">#将字符串编译成正则表达式对象</span></span><br><span class="line"></span><br><span class="line">re.search(pattern,string,flags=<span class="number">0</span>)  <span class="comment">#找到第一个位置的match对象</span></span><br><span class="line"></span><br><span class="line">re.<span class="keyword">match</span>(pattern,string,flags=<span class="number">0</span>)   <span class="comment">#在字符串开始位置查找，match对象</span></span><br><span class="line"></span><br><span class="line">re.findall(pattern,string,flags=<span class="number">0</span>) <span class="comment">#以列表类型返回全部子串</span></span><br><span class="line"></span><br><span class="line">re.split(pattern,string,maxsolit=<span class="number">0</span>,flags=<span class="number">0</span>)   <span class="comment">#分割后列表返回</span></span><br><span class="line"></span><br><span class="line">re.finditer(pattern,string,flags=<span class="number">0</span>)<span class="comment">#返回迭代类型，都是match对象</span></span><br><span class="line"></span><br><span class="line">re.sub(pattern,repl,string,count=<span class="number">0</span>,flags=<span class="number">0</span>)     <span class="comment">#替换后返回字符串</span></span><br></pre></td></tr></table></figure>

<h3 id="flags常用标记"><a href="#flags常用标记" class="headerlink" title="flags常用标记"></a>flags常用标记</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">re.I  #忽略大小写</span><br><span class="line"></span><br><span class="line">re.M  #将每行当作开始</span><br><span class="line"></span><br><span class="line">re.S  #操作符能匹配所有字符</span><br></pre></td></tr></table></figure>

<h2 id="match对象属性"><a href="#match对象属性" class="headerlink" title="match对象属性"></a>match对象属性</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.string   <span class="comment">#待匹配文本</span></span><br><span class="line"></span><br><span class="line">.re       <span class="comment">#匹配时的pattern对象</span></span><br><span class="line"></span><br><span class="line">.pos      <span class="comment">#开始位置</span></span><br><span class="line"></span><br><span class="line">.endpos   <span class="comment">#结束位置</span></span><br><span class="line"></span><br><span class="line">.group(<span class="number">0</span>) <span class="comment">#获取匹配后的字符串</span></span><br><span class="line"></span><br><span class="line">.start()  <span class="comment">#匹配字符的开始位置</span></span><br><span class="line"></span><br><span class="line">.end()    <span class="comment">#匹配字符的结束位置</span></span><br><span class="line"></span><br><span class="line">.span()   <span class="comment">#返回(.start(),.end())</span></span><br></pre></td></tr></table></figure>

<h2 id="贪婪匹配与最小匹配"><a href="#贪婪匹配与最小匹配" class="headerlink" title="贪婪匹配与最小匹配"></a>贪婪匹配与最小匹配</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>rst = re.search(<span class="string">r&#x27;PY.*N&#x27;</span>,<span class="string">&quot;PYQNPLN&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rst.group()</span><br><span class="line"><span class="string">&#x27;PYQNPLN&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rst = re.search(<span class="string">r&#x27;PY.*?N&#x27;</span>,<span class="string">&quot;PYQNPLN&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rst.group()</span><br><span class="line"><span class="string">&#x27;PYQN</span></span><br></pre></td></tr></table></figure>

<p>只差一个？就是两种不同的匹配</p>
<h2 id="面向对象的用法"><a href="#面向对象的用法" class="headerlink" title="面向对象的用法"></a>面向对象的用法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">old:</span><br><span class="line">rst = re.search(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>,<span class="string">&#x27;BIT 100081&#x27;</span>)</span><br><span class="line"></span><br><span class="line">new:</span><br><span class="line">pat = re.<span class="built_in">compile</span>(<span class="string">r&#x27;[1-9]\d&#123;5&#125;&#x27;</span>)</span><br><span class="line">rst = pat.search(<span class="string">&#x27;BIT 100081&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="模块的导入"><a href="#模块的导入" class="headerlink" title="模块的导入"></a>模块的导入</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint   <span class="comment"># 导入random模板里的randint函数，调用randint方法时不用加random. 。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> *   <span class="comment"># 引入math模板里的全部方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t   <span class="comment"># 为模板设置简称</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint <span class="keyword">as</span> rd   <span class="comment"># 为方法设置简称</span></span><br></pre></td></tr></table></figure>

<h1 id="time时间"><a href="#time时间" class="headerlink" title="time时间"></a>time时间</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment">#时间获取</span></span><br><span class="line"></span><br><span class="line">time.time()    <span class="comment">#1594889513.965165</span></span><br><span class="line"></span><br><span class="line">time.ctime()   <span class="comment">#&#x27;Thu Jul 16 16:52:16 2020&#x27;</span></span><br><span class="line"></span><br><span class="line">time.gmtime()  <span class="comment">#time.struct_time(tm_year=2020, tm_mon=7, tm_mday=16, tm_hour=8, tm_min=55, tm_sec=7,                         tm_wday=3, tm_yday=198, tm_isdst=0)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#时间格式化</span></span><br><span class="line">t = time.gmtime()</span><br><span class="line"><span class="comment"># Y年:2020     m月:7     B月:April     b月:Apr     d日:16     A星期:Wednesday     a星期:Wed     H小时(24h):12     I小时(12h):7     p上下午:PM,M分钟:26     S秒:26</span></span><br><span class="line"></span><br><span class="line">time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>,t)  <span class="comment"># &#x27;2020-07-16 09:00:44&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">timeStr=<span class="string">&#x27;2020-07-16 17:13:20&#x27;</span></span><br><span class="line">time.strptime(timeStr,<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>) <span class="comment">#time.struct_time(tm_year=2020, tm_mon=7, tm_mday=16, tm_hour=17,                                             tm_min=13, tm_sec=20, tm_wday=3, tm_yday=198, tm_isdst=-1)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#程序计时</span></span><br><span class="line"></span><br><span class="line">time.perf_counter()  <span class="comment">#定义start与end，然后相减计算。</span></span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">3.3</span>) <span class="comment">#3.3秒后退出</span></span><br></pre></td></tr></table></figure>

<h2 id="例-文本进度条"><a href="#例-文本进度条" class="headerlink" title="例 文本进度条"></a>例 文本进度条</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">scale = <span class="number">50</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;执行开始&quot;</span>.center(scale//<span class="number">2</span>,<span class="string">&quot;-&quot;</span>))</span><br><span class="line">start = time.perf_counter()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(scale+<span class="number">1</span>):</span><br><span class="line">    a=<span class="string">&#x27;*&#x27;</span>*i</span><br><span class="line">    b=<span class="string">&#x27;.&#x27;</span>*(scale-i)</span><br><span class="line">    c=(i/scale)*<span class="number">100</span></span><br><span class="line">    dur = time.perf_counter() - start</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\r&#123;:^3.0f&#125;%[&#123;&#125;-&gt;&#123;&#125;]&#123;:.2f&#125;s&quot;</span>.<span class="built_in">format</span>(c,a,b,dur),end=<span class="string">&quot;&quot;</span>)  <span class="comment">#end使输出后不换行，\r回到行首</span></span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>+<span class="string">&quot;执行结束&quot;</span>.center(scale//<span class="number">2</span>,<span class="string">&quot;-&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="例-七段数码管绘制"><a href="#例-七段数码管绘制" class="headerlink" title="例 七段数码管绘制"></a>例 七段数码管绘制</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawGap</span>():</span><br><span class="line">    turtle.penup()</span><br><span class="line">    turtle.fd(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawLine</span>(<span class="params">draw</span>):</span><br><span class="line">    drawGap()</span><br><span class="line">    turtle.pendown() <span class="keyword">if</span> draw <span class="keyword">else</span> turtle.penup()</span><br><span class="line">    turtle.fd(<span class="number">40</span>)</span><br><span class="line">    drawGap()</span><br><span class="line">    turtle.right(<span class="number">90</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawDigit</span>(<span class="params">digit</span>):</span><br><span class="line">    drawLine(<span class="literal">True</span>) <span class="keyword">if</span> digit <span class="keyword">in</span> [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="keyword">else</span> drawLine(<span class="literal">False</span>)</span><br><span class="line">    drawLine(<span class="literal">True</span>) <span class="keyword">if</span> digit <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="keyword">else</span> drawLine(<span class="literal">False</span>)</span><br><span class="line">    drawLine(<span class="literal">True</span>) <span class="keyword">if</span> digit <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="keyword">else</span> drawLine(<span class="literal">False</span>)</span><br><span class="line">    drawLine(<span class="literal">True</span>) <span class="keyword">if</span> digit <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>] <span class="keyword">else</span> drawLine(<span class="literal">False</span>)</span><br><span class="line">    turtle.left(<span class="number">90</span>)</span><br><span class="line">    drawLine(<span class="literal">True</span>) <span class="keyword">if</span> digit <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="keyword">else</span> drawLine(<span class="literal">False</span>)</span><br><span class="line">    drawLine(<span class="literal">True</span>) <span class="keyword">if</span> digit <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="keyword">else</span> drawLine(<span class="literal">False</span>)</span><br><span class="line">    drawLine(<span class="literal">True</span>) <span class="keyword">if</span> digit <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="keyword">else</span> drawLine(<span class="literal">False</span>)</span><br><span class="line">    turtle.left(<span class="number">180</span>)</span><br><span class="line">    turtle.penup()</span><br><span class="line">    turtle.fd(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawDate</span>(<span class="params">date</span>):</span><br><span class="line">    turtle.pencolor(<span class="string">&quot;red&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> date:</span><br><span class="line">        <span class="keyword">if</span> i==<span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">            turtle.write(<span class="string">&#x27;年&#x27;</span>,font=(<span class="string">&quot;Arial&quot;</span>,<span class="number">18</span>,<span class="string">&quot;normal&quot;</span>))</span><br><span class="line">            turtle.pencolor(<span class="string">&quot;green&quot;</span>)</span><br><span class="line">            turtle.fd(<span class="number">40</span>)</span><br><span class="line">        <span class="keyword">elif</span> i==<span class="string">&#x27;=&#x27;</span>:</span><br><span class="line">            turtle.write(<span class="string">&#x27;月&#x27;</span>,font=(<span class="string">&quot;Arial&quot;</span>,<span class="number">18</span>,<span class="string">&quot;normal&quot;</span>))</span><br><span class="line">            turtle.pencolor(<span class="string">&quot;blue&quot;</span>)</span><br><span class="line">            turtle.fd(<span class="number">40</span>)</span><br><span class="line">        <span class="keyword">elif</span> i==<span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">            turtle.write(<span class="string">&#x27;日&#x27;</span>,font=(<span class="string">&quot;Arial&quot;</span>,<span class="number">18</span>,<span class="string">&quot;normal&quot;</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            drawDigit(<span class="built_in">eval</span>(i))</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    turtle.setup(<span class="number">800</span>,<span class="number">350</span>,<span class="number">200</span>,<span class="number">200</span>)</span><br><span class="line">    turtle.penup()</span><br><span class="line">    turtle.fd(-<span class="number">300</span>)</span><br><span class="line">    turtle.pensize(<span class="number">5</span>)</span><br><span class="line">    drawDate(time.strftime(<span class="string">&#x27;%Y-%m=%d+&#x27;</span>,time.gmtime()))</span><br><span class="line">    turtle.hideturtle()</span><br><span class="line">    turtle.done()</span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

<h1 id="random随机数"><a href="#random随机数" class="headerlink" title="random随机数"></a>random随机数</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#基本随机函数</span></span><br><span class="line"><span class="keyword">import</span> random   <span class="comment">#伪随机数。。。。随机都是骗人的，你就是那1%的倒霉蛋</span></span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">10</span>)  <span class="comment">#产生种子10对应的序列</span></span><br><span class="line"><span class="comment">#相同种子随机数的顺序相同，默认种子是系统时间</span></span><br><span class="line"></span><br><span class="line">random.random()  <span class="comment">#产生[0.0,1.0)之间的随机小数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#扩展随机数函数</span></span><br><span class="line">random.randint(a,b)  <span class="comment">#产生[a,b]之间的一个整数，这不挺有用的吗</span></span><br><span class="line"></span><br><span class="line">random.randrange(m,n[,k])  <span class="comment">#在[m,n)之间产生以k为增长的随机整数</span></span><br><span class="line"></span><br><span class="line">random.getrandbits(k)  <span class="comment">#生成一个k比特长的随机整数</span></span><br><span class="line"></span><br><span class="line">random.uniform(a,b)   <span class="comment">#生成[a,b]之间的随机小数</span></span><br><span class="line"></span><br><span class="line">random.choice([<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>])  <span class="comment">#随机选取其中一个数</span></span><br><span class="line"></span><br><span class="line">random.shuffle([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]) <span class="comment">#返回打乱后的序列,比如[3,2,4,1]</span></span><br><span class="line"></span><br><span class="line">random.sample(<span class="built_in">range</span>(<span class="number">0</span>,<span class="number">5</span>),<span class="number">3</span>) <span class="comment"># 在0-4中随机选3个数返回</span></span><br></pre></td></tr></table></figure>

<h2 id="例-计算圆周率"><a href="#例-计算圆周率" class="headerlink" title="例 计算圆周率"></a>例 计算圆周率</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> perf_counter</span><br><span class="line">darts = <span class="number">1000</span>*<span class="number">1000</span></span><br><span class="line">hits = <span class="number">0.0</span></span><br><span class="line">start = perf_counter()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,darts+<span class="number">1</span>):</span><br><span class="line">    x,y = random(),random()</span><br><span class="line">    dist = <span class="built_in">pow</span>(x**<span class="number">2</span>+y**<span class="number">2</span>,<span class="number">0.5</span>)</span><br><span class="line">    <span class="keyword">if</span> dist &lt;=<span class="number">1.0</span>:</span><br><span class="line">        hits = hits+<span class="number">1</span></span><br><span class="line">pi = <span class="number">4</span>*(hits/darts)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;圆周率值是:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(pi))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;运行时间是:&#123;:.5f&#125;s&quot;</span>.<span class="built_in">format</span>(perf_counter()-start))</span><br></pre></td></tr></table></figure>

<h1 id="turtle画图"><a href="#turtle画图" class="headerlink" title="turtle画图"></a>turtle画图</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line">t.setup(w,h,x,y)     <span class="comment">#设置位置大小</span></span><br><span class="line">t.screensize(<span class="number">800</span>,<span class="number">600</span>,<span class="string">&#x27;green&#x27;</span>)   <span class="comment"># 设置画布</span></span><br><span class="line">t.speed(<span class="number">30</span>)   <span class="comment"># 设置绘制速度，[1，10]</span></span><br><span class="line">t.hideturtle()   <span class="comment"># 隐藏画笔，showturtle显示画笔</span></span><br><span class="line">t.dot(<span class="number">20</span>,<span class="string">&#x27;red&#x27;</span>)   <span class="comment"># 画一个实心原点</span></span><br><span class="line">t.fillcolor(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">t.begin_fill()   <span class="comment"># 开始填充</span></span><br><span class="line">t.circle(<span class="number">100</span>,<span class="number">360</span>)</span><br><span class="line">t.end_fill()   <span class="comment"># 结束填充</span></span><br><span class="line">t.penup()              </span><br><span class="line">t.pendown()        </span><br><span class="line">t.fd(-<span class="number">250</span>)                 </span><br><span class="line">t.pensize(<span class="number">25</span>)            <span class="comment">#设置笔迹的宽度</span></span><br><span class="line">t.pencolor(<span class="string">&quot;green&quot;</span>)</span><br><span class="line">t.seth(<span class="number">90</span>)        <span class="comment">#让海龟转向90°的位置</span></span><br><span class="line"><span class="keyword">for</span> <span class="number">1</span> <span class="keyword">in</span> rang(<span class="number">4</span>):      <span class="comment">#循环4次</span></span><br><span class="line">    t.circle(<span class="number">40</span>,<span class="number">80</span>)     <span class="comment">#40的半径绘制80°的弧线</span></span><br><span class="line">    t.circle(-<span class="number">40</span>,<span class="number">80</span>)</span><br><span class="line">t.done()     <span class="comment">#可以不会自动退出</span></span><br></pre></td></tr></table></figure>

<h2 id="例-科赫雪花（使用递归）"><a href="#例-科赫雪花（使用递归）" class="headerlink" title="例 科赫雪花（使用递归）"></a>例 科赫雪花（使用递归）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#递归要包括 基例 与 递归链条</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">koch</span>(<span class="params">size,n</span>):</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:    <span class="comment">#基例</span></span><br><span class="line">        t.fd(size)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> angle <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">60</span>,-<span class="number">120</span>,<span class="number">60</span>]:  <span class="comment">#递归链条</span></span><br><span class="line">            t.left(angle)</span><br><span class="line">            koch(size/<span class="number">3</span>,n-<span class="number">1</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    t.setup(<span class="number">800</span>,<span class="number">400</span>)</span><br><span class="line">    t.penup()</span><br><span class="line">    t.goto(-<span class="number">300</span>,-<span class="number">50</span>)</span><br><span class="line">    t.pendown()</span><br><span class="line">    t.pensize(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        koch(<span class="number">120</span>,<span class="number">3</span>)</span><br><span class="line">        t.right(<span class="number">120</span>)</span><br><span class="line">    t.hideturtle</span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

<h1 id="sys"><a href="#sys" class="headerlink" title="sys"></a>sys</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br></pre></td></tr></table></figure>

<p>stdin</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s_in = sys.stdin</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">str</span> == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>stdout</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sys.stdout = <span class="built_in">open</span>(<span class="string">&#x27;out.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hellow&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>stderr</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sys.stderr = <span class="built_in">open</span>(<span class="string">&#x27;err.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">1</span>/<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h1 id="jieba中文分词"><a href="#jieba中文分词" class="headerlink" title="jieba中文分词()"></a>jieba中文分词()</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">jieba.lcut(s) <span class="comment">#精确模式，无冗余</span></span><br><span class="line"><span class="comment">#中国是一个伟大的国家&gt;&gt;&#123;&#x27;中国&#x27;,&#x27;是&#x27;,&#x27;一个&#x27;,&#x27;伟大&#x27;,&#x27;的&#x27;,&#x27;国家&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">jieba.lcut(s,cut_all=<span class="literal">True</span>) <span class="comment">#全模式，有冗余</span></span><br><span class="line"><span class="comment">#中国是一个伟大的国家&gt;&gt;&#123;&#x27;中国&#x27;,&#x27;国是&#x27;,&#x27;一个&#x27;,&#x27;伟大&#x27;,&#x27;的&#x27;,&#x27;国家&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">jieba.lcut_for)serch(s) <span class="comment">#搜索引擎模式</span></span><br><span class="line"><span class="comment">#中华人民共和国&gt;&gt;&#123;&#x27;中华&#x27;,&#x27;华人&#x27;,&#x27;人民&#x27;,&#x27;共和&#x27;,&#x27;共和国&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">jieba.add_word(w)  <span class="comment">#向分词词典中增加新词w</span></span><br></pre></td></tr></table></figure>

<h1 id="wordcloud词云"><a href="#wordcloud词云" class="headerlink" title="wordcloud词云"></a>wordcloud词云</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wordcloud</span><br><span class="line">步骤<span class="number">1</span></span><br><span class="line">w = wordcloud.WordCloud()</span><br><span class="line"><span class="comment">#w=wordcloud.WprdCloud(width=100) </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置对象参数</span></span><br><span class="line"></span><br><span class="line">width</span><br><span class="line"></span><br><span class="line">height</span><br><span class="line"></span><br><span class="line">min_font_size</span><br><span class="line"></span><br><span class="line">max_font_size</span><br><span class="line"></span><br><span class="line">font_step  <span class="comment">#字号的步进间隔</span></span><br><span class="line"></span><br><span class="line">font_path  <span class="comment">#指定字体文件路径，微软雅黑：msyh.ttc</span></span><br><span class="line"></span><br><span class="line">max_words</span><br><span class="line"></span><br><span class="line">stop_words=&#123;<span class="string">&quot;123&quot;</span>&#125;  <span class="comment">#排除的单词</span></span><br><span class="line"></span><br><span class="line">mask</span><br><span class="line"><span class="keyword">from</span> scipy.misc <span class="keyword">import</span> imread</span><br><span class="line">mk=imread(<span class="string">&quot;pic.png&quot;</span>)</span><br><span class="line">w=wordcloud.WordCloud(mask=mk)</span><br><span class="line"></span><br><span class="line">backgorund_color</span><br><span class="line"></span><br><span class="line">步骤<span class="number">2</span></span><br><span class="line">w.generate(txt)   <span class="comment">#加载文本</span></span><br><span class="line">步骤<span class="number">3</span></span><br><span class="line">w.to_file(filename)  <span class="comment">#输出图片文件,png或jpg</span></span><br></pre></td></tr></table></figure>

<h2 id="例-文本文件生成词云"><a href="#例-文本文件生成词云" class="headerlink" title="例 文本文件生成词云"></a>例 文本文件生成词云</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> wordcloud</span><br><span class="line"><span class="keyword">from</span> imageio <span class="keyword">import</span> imread</span><br><span class="line">mask = imread(<span class="string">&quot;fivestart.png&quot;</span>)</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;中国特色社会主义.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">t = f.read()</span><br><span class="line">f.close()</span><br><span class="line">ls = jieba.lcut(t)</span><br><span class="line">txt = <span class="string">&quot; &quot;</span>.join(ls)</span><br><span class="line">w=wordcloud.WordCloud(font_path=<span class="string">&quot;msyh.ttc&quot;</span>,background_color=<span class="string">&quot;white&quot;</span>,mask = mask)</span><br><span class="line">w.generate(txt)</span><br><span class="line">w.to_file(<span class="string">&quot;text.png&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="例-制作词云"><a href="#例-制作词云" class="headerlink" title="例 制作词云"></a>例 制作词云</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wordcloud</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image   <span class="comment"># 导入图片</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt   <span class="comment"># 制表，这用来展示</span></span><br><span class="line"><span class="keyword">import</span> numpy   <span class="comment"># 用来制作像素矩阵</span></span><br><span class="line"><span class="comment"># 统计词频</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;t.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">t1 = file.read()</span><br><span class="line">file.close()</span><br><span class="line">t2 = t1.split()</span><br><span class="line">t3 = [w.lower() <span class="keyword">for</span> w <span class="keyword">in</span> t2]</span><br><span class="line">t4 = <span class="built_in">set</span>(t3)</span><br><span class="line">d1 = &#123;d:t3.count(d) <span class="keyword">for</span> d <span class="keyword">in</span> t4&#125;</span><br><span class="line">d2 = <span class="built_in">sorted</span>(d1.items(),key=<span class="keyword">lambda</span> asd:asd[<span class="number">1</span>],reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 制作词云图片</span></span><br><span class="line">image = Image.<span class="built_in">open</span>(<span class="string">r&#x27;D:\我的文件\chine.png&#x27;</span>)   <span class="comment"># 导入图片</span></span><br><span class="line">mask1 = numpy.array(image)   <span class="comment"># 读成像素矩阵</span></span><br><span class="line">w = wordcloud.WordCloud(font_path=<span class="string">&#x27;msyh.ttc&#x27;</span>,background_color=<span class="string">&#x27;white&#x27;</span>,mask=mask1)   <span class="comment"># 格式图形制作</span></span><br><span class="line">w.generate_from_frequencies(d1)   <span class="comment"># 加载文本，d1为字典型</span></span><br><span class="line">w.to_file(<span class="string">r&#x27;D:\我的文件\1.jpg&#x27;</span>)   <span class="comment"># 输出图片</span></span><br><span class="line"><span class="comment"># 展示</span></span><br><span class="line">plt.imshow(w)</span><br><span class="line">plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h1 id="json字符串"><a href="#json字符串" class="headerlink" title="json字符串"></a>json字符串</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">test = &#123;<span class="string">&#x27;1&#x27;</span>:<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;2&#x27;</span>:<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;3&#x27;</span>:<span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line">x = json.dumps(test)  <span class="comment"># 转换为原来的类型</span></span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># x == &#x27;&#123;&quot;1&quot;:&quot;a&quot;,&quot;2&quot;:&quot;b&quot;,&quot;3&quot;:&quot;c&quot;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line">x1 = json.loads(x)   <span class="comment"># 转换为json字符串</span></span><br><span class="line"><span class="built_in">print</span>(x1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># x1 == &#123;&#x27;1&#x27;:&#x27;a&#x27;,&#x27;2&#x27;:&#x27;b&#x27;,&#x27;3&#x27;:&#x27;c&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>json持久化存储</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;翻译.txt&quot;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(t1,fp = f,ensure_ascii=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<p>ensure_ascii</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">json.dumps(<span class="string">&quot;中国&quot;</span>)   <span class="comment"># &quot;\u4e2d\u56fd&quot;</span></span><br><span class="line"></span><br><span class="line">json.dumps(<span class="string">&quot;中国&quot;</span>,ensure_ascii=<span class="literal">False</span><span class="string">&quot;)   # &quot;</span>中国<span class="string">&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="os操作系统"><a href="#os操作系统" class="headerlink" title="os操作系统"></a>os操作系统</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.system(<span class="string">&quot;命令&quot;</span>)</span><br><span class="line"></span><br><span class="line">os.cpu_dount()</span><br><span class="line"></span><br><span class="line">os.getlogin()</span><br><span class="line"></span><br><span class="line">os.getpid()   <span class="comment"># 获得进程的pid</span></span><br><span class="line"></span><br><span class="line">os.name()   <span class="comment"># windows == nt,非windows == posix</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">os.path.isdir(<span class="string">&#x27;test&#x27;</span>)   <span class="comment"># 判断是否是目录</span></span><br><span class="line"></span><br><span class="line">os.path.isfile(<span class="string">&#x27;test&#x27;</span>)   <span class="comment"># 是否为文件</span></span><br><span class="line"></span><br><span class="line">os.path.exists(<span class="string">&#x27;test&#x27;</span>)   <span class="comment"># 是否存在</span></span><br><span class="line"></span><br><span class="line">os.path.splitext(<span class="string">&#x27;test.py&#x27;</span>)   <span class="comment"># (&#x27;test&#x27;,&#x27;.&#x27;,&#x27;py&#x27;)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">os.getcwd()   <span class="comment"># 获取当前工作路径</span></span><br><span class="line"></span><br><span class="line">os.chdir(<span class="string">&#x27;test&#x27;</span>)   <span class="comment"># 相当于cd</span></span><br><span class="line"></span><br><span class="line">os.rename(<span class="string">&#x27;old_name&#x27;</span>,<span class="string">&#x27;new_name&#x27;</span>)   <span class="comment"># 文件改名</span></span><br><span class="line"></span><br><span class="line">os.remove(<span class="string">&#x27;test.txt&#x27;</span>)   <span class="comment"># 删除文件</span></span><br><span class="line"></span><br><span class="line">os.rmdir(<span class="string">&#x27;test&#x27;</span>)   <span class="comment"># 删除空文件夹</span></span><br><span class="line"></span><br><span class="line">os.removedirs(<span class="string">&#x27;test&#x27;</span>) <span class="comment">#删除空文件夹</span></span><br><span class="line"></span><br><span class="line">os.mkdir(<span class="string">&#x27;demo&#x27;</span>)   <span class="comment"># 创建文件夹</span></span><br><span class="line"></span><br><span class="line">os.environ   <span class="comment"># 获取环境配置</span></span><br><span class="line"></span><br><span class="line">os.environ.get(<span class="string">&#x27;PATH&#x27;</span>)   <span class="comment"># 获取指定环境配置</span></span><br></pre></td></tr></table></figure>

<h1 id="hashlib加密"><a href="#hashlib加密" class="headerlink" title="hashlib加密"></a>hashlib加密</h1><p>md5</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">x = hashlib.md5()   <span class="comment"># 生产md5的对象</span></span><br><span class="line">x.update(<span class="string">&#x27;password&#x27;</span>.encode(<span class="string">&#x27;utf8&#x27;</span>))</span><br><span class="line"><span class="comment">#x = hashlib.md5(&#x27;passwd&#x27;.encode(&#x27;utf8&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x.hexdigest)   <span class="comment"># 以十六进制的方式输出</span></span><br></pre></td></tr></table></figure>

<p>sha 后面数字表长度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = hashlib.sha224(<span class="string">&#x27;pw&#x27;</span>.encode())</span><br><span class="line"></span><br><span class="line">sha   <span class="comment"># 1,224,256,384</span></span><br></pre></td></tr></table></figure>

<h1 id="第三方库的安装"><a href="#第三方库的安装" class="headerlink" title="第三方库的安装"></a>第三方库的安装</h1><p>pip install &lt;&gt;     安装</p>
<p>pip install -U &lt;&gt;     更新</p>
<p>pip uninstall &lt;&gt;      卸载</p>
<p>pip download &lt;&gt;  下载不安装</p>
<p>pip show &lt;&gt;    查看详情信息</p>
<p>pip search &lt;&gt;    搜索</p>
<p>pip list  &lt;&gt;  将安装的列举出来</p>
<img src="https://cdn.jsdelivr.net/gh/2544165563/2544165563.github.io/assets/image-20200803165429996.png" loading="lazy">

</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">I'm so cute. Please give me money.</div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>Scay Pig</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://scarypig.github.io/myblog/2022/04/27/python/" title="Python">https://scarypig.github.io/myblog/2022/04/27/python/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/myblog/2022/04/27/Python%E7%88%AC%E8%99%AB/" rel="prev" title="Python爬虫"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">Python爬虫</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/myblog/2022/04/27/pygame/" rel="next" title="pygame"><span class="post-nav-text">pygame</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2023 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Scay Pig</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v6.3.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.9</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></body></html>